package labs.imgur.services



import grails.test.mixin.*
import labs.imgur.api.Album
import labs.imgur.api.BasicResponse
import labs.imgur.api.Image;

import org.junit.*
import org.springframework.web.client.RestTemplate

/**
 * See the API for {@link grails.test.mixin.services.ServiceUnitTestMixin} for usage instructions
 */
@TestFor(AnonUploadService)
class AnonUploadServiceTests {
    
    AnonUploadService service = new AnonUploadService()
    
    void testImageUploadService() {
	byte[] imageBytes = [71, 73, 70, 56, 57, 97, 60, 0, 66, 0, -9, 0, 0, 0, 0, 0, 0, 0, 51, 0, 0, 102, 0, 0, -103, 0, 0, -52, 0, 0, -1, 0, 43, 0, 0, 43, 51, 0, 43, 102, 0, 43, -103, 0, 43, -52, 0, 43, -1, 0, 85, 0, 0, 85, 51, 0, 85, 102, 0, 85, -103, 0, 85, -52, 0, 85, -1, 0, -128, 0, 0, -128, 51, 0, -128, 102, 0, -128, -103, 0, -128, -52, 0, -128, -1, 0, -86, 0, 0, -86, 51, 0, -86, 102, 0, -86, -103, 0, -86, -52, 0, -86, -1, 0, -43, 0, 0, -43, 51, 0, -43, 102, 0, -43, -103, 0, -43, -52, 0, -43, -1, 0, -1, 0, 0, -1, 51, 0, -1, 102, 0, -1, -103, 0, -1, -52, 0, -1, -1, 51, 0, 0, 51, 0, 51, 51, 0, 102, 51, 0, -103, 51, 0, -52, 51, 0, -1, 51, 43, 0, 51, 43, 51, 51, 43, 102, 51, 43, -103, 51, 43, -52, 51, 43, -1, 51, 85, 0, 51, 85, 51, 51, 85, 102, 51, 85, -103, 51, 85, -52, 51, 85, -1, 51, -128, 0, 51, -128, 51, 51, -128, 102, 51, -128, -103, 51, -128, -52, 51, -128, -1, 51, -86, 0, 51, -86, 51, 51, -86, 102, 51, -86, -103, 51, -86, -52, 51, -86, -1, 51, -43, 0, 51, -43, 51, 51, -43, 102, 51, -43, -103, 51, -43, -52, 51, -43, -1, 51, -1, 0, 51, -1, 51, 51, -1, 102, 51, -1, -103, 51, -1, -52, 51, -1, -1, 102, 0, 0, 102, 0, 51, 102, 0, 102, 102, 0, -103, 102, 0, -52, 102, 0, -1, 102, 43, 0, 102, 43, 51, 102, 43, 102, 102, 43, -103, 102, 43, -52, 102, 43, -1, 102, 85, 0, 102, 85, 51, 102, 85, 102, 102, 85, -103, 102, 85, -52, 102, 85, -1, 102, -128, 0, 102, -128, 51, 102, -128, 102, 102, -128, -103, 102, -128, -52, 102, -128, -1, 102, -86, 0, 102, -86, 51, 102, -86, 102, 102, -86, -103, 102, -86, -52, 102, -86, -1, 102, -43, 0, 102, -43, 51, 102, -43, 102, 102, -43, -103, 102, -43, -52, 102, -43, -1, 102, -1, 0, 102, -1, 51, 102, -1, 102, 102, -1, -103, 102, -1, -52, 102, -1, -1, -103, 0, 0, -103, 0, 51, -103, 0, 102, -103, 0, -103, -103, 0, -52, -103, 0, -1, -103, 43, 0, -103, 43, 51, -103, 43, 102, -103, 43, -103, -103, 43, -52, -103, 43, -1, -103, 85, 0, -103, 85, 51, -103, 85, 102, -103, 85, -103, -103, 85, -52, -103, 85, -1, -103, -128, 0, -103, -128, 51, -103, -128, 102, -103, -128, -103, -103, -128, -52, -103, -128, -1, -103, -86, 0, -103, -86, 51, -103, -86, 102, -103, -86, -103, -103, -86, -52, -103, -86, -1, -103, -43, 0, -103, -43, 51, -103, -43, 102, -103, -43, -103, -103, -43, -52, -103, -43, -1, -103, -1, 0, -103, -1, 51, -103, -1, 102, -103, -1, -103, -103, -1, -52, -103, -1, -1, -52, 0, 0, -52, 0, 51, -52, 0, 102, -52, 0, -103, -52, 0, -52, -52, 0, -1, -52, 43, 0, -52, 43, 51, -52, 43, 102, -52, 43, -103, -52, 43, -52, -52, 43, -1, -52, 85, 0, -52, 85, 51, -52, 85, 102, -52, 85, -103, -52, 85, -52, -52, 85, -1, -52, -128, 0, -52, -128, 51, -52, -128, 102, -52, -128, -103, -52, -128, -52, -52, -128, -1, -52, -86, 0, -52, -86, 51, -52, -86, 102, -52, -86, -103, -52, -86, -52, -52, -86, -1, -52, -43, 0, -52, -43, 51, -52, -43, 102, -52, -43, -103, -52, -43, -52, -52, -43, -1, -52, -1, 0, -52, -1, 51, -52, -1, 102, -52, -1, -103, -52, -1, -52, -52, -1, -1, -1, 0, 0, -1, 0, 51, -1, 0, 102, -1, 0, -103, -1, 0, -52, -1, 0, -1, -1, 43, 0, -1, 43, 51, -1, 43, 102, -1, 43, -103, -1, 43, -52, -1, 43, -1, -1, 85, 0, -1, 85, 51, -1, 85, 102, -1, 85, -103, -1, 85, -52, -1, 85, -1, -1, -128, 0, -1, -128, 51, -1, -128, 102, -1, -128, -103, -1, -128, -52, -1, -128, -1, -1, -86, 0, -1, -86, 51, -1, -86, 102, -1, -86, -103, -1, -86, -52, -1, -86, -1, -1, -43, 0, -1, -43, 51, -1, -43, 102, -1, -43, -103, -1, -43, -52, -1, -43, -1, -1, -1, 0, -1, -1, 51, -1, -1, 102, -1, -1, -103, -1, -1, -52, -1, -1, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 33, -7, 4, 1, 0, 0, -4, 0, 44, 0, 0, 0, 0, 60, 0, 66, 0, 0, 8, -1, 0, -9, 9, 28, 72, -80, -96, -63, -125, 8, 19, 42, 92, -56, -80, -95, -61, -121, 16, 35, 74, -100, 72, -79, -94, -59, -117, 8, -25, -79, -120, 38, 81, 31, 33, 0, 32, 33, 8, -12, 8, 50, 64, 40, -127, -63, -128, -20, 35, 20, 103, 32, -69, 4, -48, -88, -128, 4, 0, -127, 36, 0, -109, -5, -12, 117, -31, 40, 113, -47, 73, 125, -118, 18, 112, -12, -71, -113, -99, -128, 83, -5, -54, -87, 12, 38, 82, 32, 45, 35, -7, -86, -100, 28, 73, -44, 104, -76, 124, 59, 59, 22, -102, -86, -113, 74, 28, 125, 91, 115, 90, -31, 24, 44, -56, 62, -115, 28, -11, 73, 85, 59, 85, 96, 88, 125, 86, -112, -114, -4, 8, 64, 0, 79, -123, 96, -17, 12, 124, -86, 47, -52, -55, -105, 28, 119, 25, -55, -87, -88, 37, -32, -82, 37, 67, -23, 91, -92, -9, 37, 65, 121, 77, 31, 18, 21, 88, 120, 37, -56, 7, 60, -107, 10, 100, 39, 82, -47, -32, -88, 109, 109, 98, 38, -104, -113, -118, 93, -121, -6, -74, 112, 93, -69, -43, -93, -54, 125, -69, -114, 8, -52, 103, -27, -39, -40, -100, 82, 9, -74, 38, -12, -102, 96, -41, -93, 12, -63, -54, 85, -124, 121, -15, -55, 124, 27, -9, -91, 28, -88, -24, 70, 83, -48, 3, 83, 35, 69, 107, -48, 99, 75, -122, 116, 1, 60, 24, -88, -38, -23, 96, -51, -101, 1, 92, -1, 71, 28, 18, -20, 84, 90, -67, 119, -51, -116, -116, -79, -67, -5, -9, -16, -29, -53, -97, 79, -65, -66, -3, -5, -8, -13, 15, -92, 45, 87, 121, 111, 69, 32, 9, 69, -98, 118, 93, 9, -75, 15, 127, -5, -48, 2, -110, 74, 3, 110, 23, 17, 92, 119, -19, -14, 26, 45, 22, 108, 6, 85, 110, 35, 85, 1, 67, 75, 16, -78, 51, -102, 45, -89, 64, 71, 17, -126, 2, -107, 51, 24, 117, -47, 97, 120, 96, 21, -104, -40, -59, 31, 96, 41, -74, -43, -47, 109, 2, -59, 86, -108, -127, -47, -55, 116, -109, 98, 82, 121, 6, 97, -126, 0, 12, -106, -109, -114, 56, 69, 68, 34, 108, 42, -55, -125, -64, 93, 43, -122, 86, -59, 41, 26, -39, 38, -105, 71, 38, -119, 56, -47, -113, 2, -83, -93, 18, -118, 25, -74, 5, 29, 45, 69, -48, -24, 29, 91, 21, 29, -71, -117, 89, 64, 53, 53, 79, 14, 100, 118, 121, -106, 10, 118, 5, -61, -95, 22, 95, -87, -40, 17, -111, -95, 44, -105, 19, 93, 118, 13, 8, 65, 84, 122, 37, 120, 20, 121, 34, -107, -74, -98, 126, -120, 38, -86, -24, -94, -116, 54, -22, -24, -93, -112, 54, 100, 19, 0, 42, 9, 38, -106, 92, -122, -122, -108, -24, 100, 89, -86, 68, 27, 79, 109, 38, -102, 23, 65, 103, 94, 58, -101, -99, -6, 77, -38, -110, -91, -97, -114, -124, 39, -94, -62, 17, -1, 84, -106, -87, 77, 50, -38, -35, 64, -102, -75, -118, -101, -116, -87, 22, -46, -97, 127, -76, 90, -103, 104, 88, -72, -54, -106, 105, 0, -96, -24, -88, 93, -92, -52, 54, -21, -20, -77, -48, 70, -53, -88, 62, 92, 48, -87, 31, 86, -42, 30, -60, 25, 101, 11, -26, -40, 20, -107, 94, -102, 118, -54, -92, -98, -58, 53, -101, -78, 34, -47, 114, -99, 66, -118, 52, -10, -95, 92, -69, -32, -112, 28, 88, 97, 8, 89, -44, 1, 27, 121, -92, 87, 87, 95, -47, 24, 106, 81, 21, -30, -107, 27, -116, -47, 45, 2, 74, 101, -5, -124, -111, 9, 11, 72, 45, -74, 48, 82, 44, 121, 71, -30, -65, 92, 30, -92, -85, -126, -10, -50, 51, 67, 52, -37, 10, 23, -79, -58, -49, -28, -85, -123, 94, -13, -84, -96, 24, -115, -57, 30, 103, 110, 66, 26, -11, 7, 46, 108, -97, -79, 22, 10, 100, 9, -58, -127, -106, -86, 7, -82, -4, -17, -65, 6, -23, -70, -105, 17, 3, 6, -71, 79, 33, 119, 68, 101, 74, 92, 45, -21, -21, 27, -54, 118, 30, 121, 16, -103, 114, 18, 22, 7, -63, 47, 65, 67, -108, -126, 73, 38, 23, -15, 126, 58, -37, 89, -15, 65, -107, 17, -102, -96, -67, 106, -127, 18, 86, -55, -45, -27, 75, 72, -96, -82, -106, -108, -20, -95, 30, 50, 68, 51, -93, -70, -84, -101, -112, -49, -120, 58, 45, -19, -34, 124, -9, 6, -19, -9, -33, 17, 5, 4, 0, 59]
	service.restTemplate = new RestTemplate()
	BasicResponse response = service.uploadImage(imageBytes)
	assertNotNull response
    }
    
    void testNewAlbumCreation() {
	service.restTemplate = new RestTemplate()
	Album album = service.createAndGetNewAlbum()
	println "Album created is: ${album}"
	assertNotNull album
	service.restTemplate = new RestTemplate()
	byte[] imageBytes = [-119, 80, 78, 71, 13, 10, 26, 10, 0, 0, 0, 13, 73, 72, 68, 82, 0, 0, 0, 52, 0, 0, 0, 51, 8, 2, 0, 0, 0, 87, 31, -68, 4, 0, 0, 0, 1, 115, 82, 71, 66, 0, -82, -50, 28, -23, 0, 0, 0, 4, 103, 65, 77, 65, 0, 0, -79, -113, 11, -4, 97, 5, 0, 0, 0, 9, 112, 72, 89, 115, 0, 0, 14, -61, 0, 0, 14, -61, 1, -57, 111, -88, 100, 0, 0, 0, 58, 73, 68, 65, 84, 104, 67, -19, -48, 49, 1, 0, 0, 0, -62, -96, -11, 79, -19, 99, 12, -120, 64, 97, -64, -128, 1, 3, 6, 12, 24, 48, 96, -64, -128, 1, 3, 6, 12, 24, 48, 96, -64, -128, 1, 3, 6, 12, 24, 48, 96, -64, -128, 1, 3, 6, 12, 124, 96, 31, 71, 0, 1, 91, 97, -53, -26, 0, 0, 0, 0, 73, 69, 78, 68, -82, 66, 96, -126]
	BasicResponse response = service.uploadImageToAnonymousAlbum(imageBytes, album)
	println "Response after uploading image is: ${response}"
	println "Data is: ${response.data}"
	assertNotNull response
	assertNotNull response?.getData()
    }
    
    
}
